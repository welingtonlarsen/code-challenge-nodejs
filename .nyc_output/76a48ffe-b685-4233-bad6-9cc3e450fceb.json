{"/home/welington/Documents/git-pessoal/fruit-bowl-api/src/adapters/controller/StudyScheduleController.ts":{"path":"/home/welington/Documents/git-pessoal/fruit-bowl-api/src/adapters/controller/StudyScheduleController.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":26},"end":{"line":15,"column":52}},"16":{"start":{"line":16,"column":24},"end":{"line":16,"column":85}},"17":{"start":{"line":17,"column":32},"end":{"line":17,"column":97}},"18":{"start":{"line":20,"column":8},"end":{"line":20,"column":69}},"19":{"start":{"line":21,"column":8},"end":{"line":25,"column":10}},"20":{"start":{"line":22,"column":12},"end":{"line":24,"column":15}},"21":{"start":{"line":26,"column":8},"end":{"line":26,"column":78}},"22":{"start":{"line":29,"column":8},"end":{"line":35,"column":11}},"23":{"start":{"line":30,"column":37},"end":{"line":30,"column":83}},"24":{"start":{"line":31,"column":12},"end":{"line":32,"column":107}},"25":{"start":{"line":32,"column":16},"end":{"line":32,"column":107}},"26":{"start":{"line":33,"column":34},"end":{"line":33,"column":103}},"27":{"start":{"line":34,"column":12},"end":{"line":34,"column":76}},"28":{"start":{"line":38,"column":0},"end":{"line":38,"column":42}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":19,"column":4},"end":{"line":19,"column":5}},"loc":{"start":{"line":19,"column":44},"end":{"line":27,"column":5}},"line":19},"9":{"name":"(anonymous_9)","decl":{"start":{"line":21,"column":27},"end":{"line":21,"column":28}},"loc":{"start":{"line":21,"column":36},"end":{"line":25,"column":9}},"line":21},"10":{"name":"(anonymous_10)","decl":{"start":{"line":28,"column":4},"end":{"line":28,"column":5}},"loc":{"start":{"line":28,"column":48},"end":{"line":36,"column":5}},"line":28},"11":{"name":"(anonymous_11)","decl":{"start":{"line":29,"column":47},"end":{"line":29,"column":48}},"loc":{"start":{"line":29,"column":60},"end":{"line":35,"column":9}},"line":29}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":31,"column":12},"end":{"line":32,"column":107}},"type":"if","locations":[{"start":{"line":31,"column":12},"end":{"line":32,"column":107}},{"start":{"line":31,"column":12},"end":{"line":32,"column":107}}],"line":31}},"s":{"0":1,"1":3,"2":0,"3":2,"4":3,"5":3,"6":0,"7":0,"8":0,"9":0,"10":5,"11":2,"12":1,"13":2,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":2,"21":1,"22":2,"23":2,"24":2,"25":1,"26":1,"27":1,"28":1},"f":{"0":2,"1":3,"2":0,"3":2,"4":3,"5":0,"6":5,"7":2,"8":1,"9":2,"10":2,"11":2},"b":{"0":[1,1,1],"1":[3,0],"2":[2,2],"3":[2,3],"4":[2,2],"5":[1,1,1],"6":[2,0],"7":[2,2],"8":[1,1]},"inputSourceMap":{"version":3,"file":"/home/welington/Documents/git-pessoal/fruit-bowl-api/src/adapters/controller/StudyScheduleController.ts","sources":["/home/welington/Documents/git-pessoal/fruit-bowl-api/src/adapters/controller/StudyScheduleController.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,qDAA4D;AAG5D,sFAA8D;AAE9D,kGAA0E;AAE1E,MAAqB,uBAAuB;IAG1C,YAAoB,0BAAsD;QAAtD,+BAA0B,GAA1B,0BAA0B,CAA4B;QAiBlE,gBAAW,GAAG,CACpB,GAA2B,EACC,EAAE;YAC9B,OAAO,IAAA,0BAAQ,EAAC,GAAG,EAAE;gBACnB,eAAe,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE;aACnC,CAAC,CAAC;QACL,CAAC,CAAC;QAtBA,IAAI,CAAC,0BAA0B,GAAG,0BAA0B,CAAC,MAAM,EAAE,CAAC;IACxE,CAAC;IAEK,mBAAmB,CACvB,sBAA8C;;YAE9C,MAAM,gBAAgB,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,sBAAsB,CAAC,CAAC;YACxE,IAAI,gBAAgB,CAAC,MAAM;gBACzB,OAAO,+BAAqB,CAAC,QAAQ,CAAC,uBAAa,EAAE,gBAAgB,CAAC,CAAC;YAEzE,MAAM,aAAa,GAAG,MAAM,IAAI,CAAC,0BAA0B,CAAC,OAAO,CACjE,sBAAsB,CACvB,CAAC;YACF,OAAO,+BAAqB,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;QACxD,CAAC;KAAA;CASF;AA3BD,0CA2BC","sourcesContent":["import { validate, ValidationError } from \"class-validator\";\nimport DesiredMicroCoursesDto from \"../../application/dto/request/DesiredMicroCoursesDto\";\nimport CreateStudySchedule from \"../../application/usecase/CreateStudySchedule\";\nimport StudySchedule from \"../../domain/entity/StudySchedule\";\nimport CreateStudyScheduleFactory from \"../factory/CreateStudyScheduleFactory\";\nimport ControllerResponseDto from \"../dto/response/ControllerResponseDto\";\n\nexport default class StudyScheduleController {\n  private createStudyScheduleUseCase: CreateStudySchedule;\n\n  constructor(private createStudyScheduleFactory: CreateStudyScheduleFactory) {\n    this.createStudyScheduleUseCase = createStudyScheduleFactory.create();\n  }\n\n  async createStudySchedule(\n    desiredMicroCoursesDto: DesiredMicroCoursesDto\n  ): Promise<ControllerResponseDto<StudySchedule>> {\n    const validationErrors = await this.validateDto(desiredMicroCoursesDto);\n    if (validationErrors.length)\n      return ControllerResponseDto.ofErrors(StudySchedule, validationErrors);\n\n    const studySchedule = await this.createStudyScheduleUseCase.execute(\n      desiredMicroCoursesDto\n    );\n    return ControllerResponseDto.ofSuccess(studySchedule);\n  }\n\n  private validateDto = (\n    dto: DesiredMicroCoursesDto\n  ): Promise<ValidationError[]> => {\n    return validate(dto, {\n      validationError: { target: false },\n    });\n  };\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3194575c40851fd27b52391733ea63e9cd6c23c4","contentHash":"2582857d90691c3bc62611be07433303e42fcb14b8a211927958247c84549281"},"/home/welington/Documents/git-pessoal/fruit-bowl-api/src/domain/entity/StudySchedule.ts":{"path":"/home/welington/Documents/git-pessoal/fruit-bowl-api/src/domain/entity/StudySchedule.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":29}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":47}},"3":{"start":{"line":9,"column":0},"end":{"line":9,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":41},"end":{"line":7,"column":5}},"line":4}},"branchMap":{},"s":{"0":1,"1":5,"2":5,"3":1},"f":{"0":5},"b":{},"inputSourceMap":{"version":3,"file":"/home/welington/Documents/git-pessoal/fruit-bowl-api/src/domain/entity/StudySchedule.ts","sources":["/home/welington/Documents/git-pessoal/fruit-bowl-api/src/domain/entity/StudySchedule.ts"],"names":[],"mappings":";;AAAA,MAAqB,aAAa;IAChC,YAAqB,MAAc,EAAW,eAAyB;QAAlD,WAAM,GAAN,MAAM,CAAQ;QAAW,oBAAe,GAAf,eAAe,CAAU;IAAG,CAAC;CAC5E;AAFD,gCAEC","sourcesContent":["export default class StudySchedule {\n  constructor(readonly userId: string, readonly coursesSequence: string[]) {}\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7eb3737f4f6ceaa8bf409e1ddab6412fd3539ca8","contentHash":"148a99ba5f7702d1443fc2f5dac5ba942277583671c2915f3895f4cb082b7fed"},"/home/welington/Documents/git-pessoal/fruit-bowl-api/src/adapters/dto/response/ControllerResponseDto.ts":{"path":"/home/welington/Documents/git-pessoal/fruit-bowl-api/src/adapters/dto/response/ControllerResponseDto.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":29}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":41}},"3":{"start":{"line":9,"column":8},"end":{"line":9,"column":60}},"4":{"start":{"line":12,"column":8},"end":{"line":12,"column":66}},"5":{"start":{"line":15,"column":0},"end":{"line":15,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":38},"end":{"line":7,"column":5}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":34},"end":{"line":10,"column":5}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":35},"end":{"line":13,"column":5}},"line":11}},"branchMap":{},"s":{"0":1,"1":2,"2":2,"3":1,"4":1,"5":1},"f":{"0":2,"1":1,"2":1},"b":{},"inputSourceMap":{"version":3,"file":"/home/welington/Documents/git-pessoal/fruit-bowl-api/src/adapters/dto/response/ControllerResponseDto.ts","sources":["/home/welington/Documents/git-pessoal/fruit-bowl-api/src/adapters/dto/response/ControllerResponseDto.ts"],"names":[],"mappings":";;AAEA,MAAqB,qBAAqB;IACxC,YAAqB,MAA0B,EAAW,YAAgB;QAArD,WAAM,GAAN,MAAM,CAAoB;QAAW,iBAAY,GAAZ,YAAY,CAAI;IAAG,CAAC;IAE9E,MAAM,CAAC,QAAQ,CAAC,IAAS,EAAE,MAA0B;QACnD,OAAO,IAAI,qBAAqB,CAAc,MAAM,EAAE,SAAS,CAAC,CAAA;IAClE,CAAC;IAED,MAAM,CAAC,SAAS,CAAC,YAAiB;QAChC,OAAO,IAAI,qBAAqB,CAAsB,SAAS,EAAE,YAAY,CAAC,CAAA;IAChF,CAAC;CACF;AAVD,wCAUC","sourcesContent":["import { ValidationError } from \"class-validator\";\n\nexport default class ControllerResponseDto<T> {\n  constructor(readonly errors?: ValidationError[], readonly responseBody?: T) {}\n\n  static ofErrors(type: any, errors?: ValidationError[]) {\n    return new ControllerResponseDto<typeof type>(errors, undefined)\n  }\n\n  static ofSuccess(responseBody: any) {\n    return new ControllerResponseDto<typeof responseBody>(undefined, responseBody)\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7a26d61a955c8252b37143a51f010b8dbddedcfa","contentHash":"60fd3b0514b092eaaedc0207c9fa1e585106e856a1f3a973b02d09db20621234"},"/home/welington/Documents/git-pessoal/fruit-bowl-api/src/application/dto/request/CoursesDto.ts":{"path":"/home/welington/Documents/git-pessoal/fruit-bowl-api/src/application/dto/request/CoursesDto.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":43}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":45}},"3":{"start":{"line":9,"column":0},"end":{"line":9,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":47},"end":{"line":7,"column":5}},"line":4}},"branchMap":{},"s":{"0":1,"1":15,"2":15,"3":1},"f":{"0":15},"b":{},"inputSourceMap":{"version":3,"file":"/home/welington/Documents/git-pessoal/fruit-bowl-api/src/application/dto/request/CoursesDto.ts","sources":["/home/welington/Documents/git-pessoal/fruit-bowl-api/src/application/dto/request/CoursesDto.ts"],"names":[],"mappings":";;AAAA,MAAqB,UAAU;IAC7B,YACW,aAAqB,EACrB,cAAsB;QADtB,kBAAa,GAAb,aAAa,CAAQ;QACrB,mBAAc,GAAd,cAAc,CAAQ;IAC9B,CAAC;CACL;AALD,6BAKC","sourcesContent":["export default class CoursesDto {\n  constructor(\n    readonly desiredCourse: string,\n    readonly requiredCourse: string\n  ) {}\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"32963464e37d5ea874c04b8a98208ff1fa2e6231","contentHash":"3910dbad32b10accd07c7540a1d3fba9112bd73e8439a29914c355adf401f4df"},"/home/welington/Documents/git-pessoal/fruit-bowl-api/src/application/dto/request/DesiredMicroCoursesDto.ts":{"path":"/home/welington/Documents/git-pessoal/fruit-bowl-api/src/application/dto/request/DesiredMicroCoursesDto.ts","statementMap":{"0":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":28}},"2":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"3":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"4":{"start":{"line":4,"column":79},"end":{"line":4,"column":131}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":150}},"6":{"start":{"line":5,"column":22},"end":{"line":5,"column":43}},"7":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"8":{"start":{"line":5,"column":81},"end":{"line":5,"column":150}},"9":{"start":{"line":6,"column":4},"end":{"line":6,"column":66}},"10":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"11":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"12":{"start":{"line":9,"column":79},"end":{"line":9,"column":109}},"13":{"start":{"line":11,"column":0},"end":{"line":11,"column":62}},"14":{"start":{"line":12,"column":26},"end":{"line":12,"column":52}},"15":{"start":{"line":15,"column":8},"end":{"line":15,"column":29}},"16":{"start":{"line":16,"column":8},"end":{"line":16,"column":31}},"17":{"start":{"line":19,"column":0},"end":{"line":22,"column":55}},"18":{"start":{"line":23,"column":0},"end":{"line":26,"column":56}},"19":{"start":{"line":27,"column":0},"end":{"line":27,"column":41}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":46},"end":{"line":2,"column":47}},"loc":{"start":{"line":2,"column":87},"end":{"line":7,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":46},"end":{"line":8,"column":47}},"loc":{"start":{"line":8,"column":62},"end":{"line":10,"column":1}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":33},"end":{"line":17,"column":5}},"line":14}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":17},"end":{"line":7,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":18},"end":{"line":2,"column":22}},{"start":{"line":2,"column":26},"end":{"line":2,"column":41}},{"start":{"line":2,"column":46},"end":{"line":7,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":34},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":42},"end":{"line":3,"column":48}},{"start":{"line":3,"column":51},"end":{"line":3,"column":125}}],"line":3},"2":{"loc":{"start":{"line":3,"column":51},"end":{"line":3,"column":125}},"type":"cond-expr","locations":[{"start":{"line":3,"column":67},"end":{"line":3,"column":118}},{"start":{"line":3,"column":121},"end":{"line":3,"column":125}}],"line":3},"3":{"loc":{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":5,"column":150}},{"start":{"line":4,"column":4},"end":{"line":5,"column":150}}],"line":4},"4":{"loc":{"start":{"line":4,"column":8},"end":{"line":4,"column":77}},"type":"binary-expr","locations":[{"start":{"line":4,"column":8},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":77}}],"line":4},"5":{"loc":{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},"type":"if","locations":[{"start":{"line":5,"column":58},"end":{"line":5,"column":150}},{"start":{"line":5,"column":58},"end":{"line":5,"column":150}}],"line":5},"6":{"loc":{"start":{"line":5,"column":85},"end":{"line":5,"column":149}},"type":"binary-expr","locations":[{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},{"start":{"line":5,"column":148},"end":{"line":5,"column":149}}],"line":5},"7":{"loc":{"start":{"line":5,"column":86},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":94},"end":{"line":5,"column":98}},{"start":{"line":5,"column":101},"end":{"line":5,"column":143}}],"line":5},"8":{"loc":{"start":{"line":5,"column":101},"end":{"line":5,"column":143}},"type":"cond-expr","locations":[{"start":{"line":5,"column":109},"end":{"line":5,"column":126}},{"start":{"line":5,"column":129},"end":{"line":5,"column":143}}],"line":5},"9":{"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":62}},"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":16}},{"start":{"line":6,"column":20},"end":{"line":6,"column":21}},{"start":{"line":6,"column":25},"end":{"line":6,"column":62}}],"line":6},"10":{"loc":{"start":{"line":8,"column":17},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":8,"column":18},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":41}},{"start":{"line":8,"column":46},"end":{"line":10,"column":1}}],"line":8},"11":{"loc":{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":109}},{"start":{"line":9,"column":4},"end":{"line":9,"column":109}}],"line":9},"12":{"loc":{"start":{"line":9,"column":8},"end":{"line":9,"column":77}},"type":"binary-expr","locations":[{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":77}}],"line":9}},"s":{"0":1,"1":2,"2":2,"3":2,"4":0,"5":2,"6":2,"7":4,"8":2,"9":2,"10":1,"11":2,"12":0,"13":1,"14":1,"15":3,"16":3,"17":1,"18":1,"19":1},"f":{"0":2,"1":2,"2":3},"b":{"0":[1,1,1],"1":[0,2],"2":[0,2],"3":[0,2],"4":[2,2],"5":[2,2],"6":[2,2],"7":[0,2],"8":[2,0],"9":[2,2,0],"10":[1,1,1],"11":[0,2],"12":[2,2]},"inputSourceMap":{"version":3,"file":"/home/welington/Documents/git-pessoal/fruit-bowl-api/src/application/dto/request/DesiredMicroCoursesDto.ts","sources":["/home/welington/Documents/git-pessoal/fruit-bowl-api/src/application/dto/request/DesiredMicroCoursesDto.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,qDAA4D;AAG5D,MAAqB,sBAAsB;IAOzC,YAAY,MAAc,EAAE,OAAqB;QAC/C,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;IACzB,CAAC;CACF;AATC;IADC,IAAA,4BAAU,GAAE;;sDACW;AAGxB;IADC,IAAA,+BAAa,GAAE;;uDACe;AALjC,yCAWC","sourcesContent":["import { ArrayNotEmpty, IsNotEmpty } from \"class-validator\";\nimport CoursesDto from \"./CoursesDto\";\n\nexport default class DesiredMicroCoursesDto {\n  @IsNotEmpty()\n  readonly userId: string;\n\n  @ArrayNotEmpty()\n  readonly courses: CoursesDto[];\n\n  constructor(userId: string, courses: CoursesDto[]) {\n    this.userId = userId;\n    this.courses = courses;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"092a5953b7dfff5cf989c48e7be0bcd05564ec7b","contentHash":"e76c7c5d5349bcad40b100b14f9ddfd306f9f86e8d6705ca3e2062121ac58fdd"},"/home/welington/Documents/git-pessoal/fruit-bowl-api/src/application/usecase/CreateStudySchedule.ts":{"path":"/home/welington/Documents/git-pessoal/fruit-bowl-api/src/application/usecase/CreateStudySchedule.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":24},"end":{"line":15,"column":85}},"16":{"start":{"line":16,"column":38},"end":{"line":16,"column":114}},"17":{"start":{"line":19,"column":8},"end":{"line":19,"column":63}},"18":{"start":{"line":22,"column":8},"end":{"line":29,"column":11}},"19":{"start":{"line":23,"column":35},"end":{"line":23,"column":86}},"20":{"start":{"line":24,"column":42},"end":{"line":26,"column":57}},"21":{"start":{"line":25,"column":37},"end":{"line":25,"column":123}},"22":{"start":{"line":26,"column":40},"end":{"line":26,"column":56}},"23":{"start":{"line":27,"column":34},"end":{"line":27,"column":115}},"24":{"start":{"line":28,"column":12},"end":{"line":28,"column":74}},"25":{"start":{"line":32,"column":35},"end":{"line":33,"column":51}},"26":{"start":{"line":32,"column":68},"end":{"line":33,"column":50}},"27":{"start":{"line":34,"column":8},"end":{"line":34,"column":63}},"28":{"start":{"line":37,"column":0},"end":{"line":37,"column":38}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":18,"column":4},"end":{"line":18,"column":5}},"loc":{"start":{"line":18,"column":41},"end":{"line":20,"column":5}},"line":18},"9":{"name":"(anonymous_9)","decl":{"start":{"line":21,"column":4},"end":{"line":21,"column":5}},"loc":{"start":{"line":21,"column":36},"end":{"line":30,"column":5}},"line":21},"10":{"name":"(anonymous_10)","decl":{"start":{"line":22,"column":47},"end":{"line":22,"column":48}},"loc":{"start":{"line":22,"column":60},"end":{"line":29,"column":9}},"line":22},"11":{"name":"(anonymous_11)","decl":{"start":{"line":25,"column":21},"end":{"line":25,"column":22}},"loc":{"start":{"line":25,"column":37},"end":{"line":25,"column":123}},"line":25},"12":{"name":"(anonymous_12)","decl":{"start":{"line":26,"column":24},"end":{"line":26,"column":25}},"loc":{"start":{"line":26,"column":40},"end":{"line":26,"column":56}},"line":26},"13":{"name":"(anonymous_13)","decl":{"start":{"line":31,"column":4},"end":{"line":31,"column":5}},"loc":{"start":{"line":31,"column":66},"end":{"line":35,"column":5}},"line":31},"14":{"name":"(anonymous_14)","decl":{"start":{"line":32,"column":53},"end":{"line":32,"column":54}},"loc":{"start":{"line":32,"column":68},"end":{"line":33,"column":50}},"line":32}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":32,"column":68},"end":{"line":33,"column":50}},"type":"binary-expr","locations":[{"start":{"line":32,"column":68},"end":{"line":32,"column":105}},{"start":{"line":33,"column":12},"end":{"line":33,"column":50}}],"line":32},"9":{"loc":{"start":{"line":34,"column":15},"end":{"line":34,"column":62}},"type":"cond-expr","locations":[{"start":{"line":34,"column":47},"end":{"line":34,"column":57}},{"start":{"line":34,"column":60},"end":{"line":34,"column":62}}],"line":34}},"s":{"0":1,"1":1,"2":0,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":2,"11":1,"12":1,"13":2,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":6,"22":6,"23":1,"24":1,"25":6,"26":30,"27":6,"28":1},"f":{"0":1,"1":1,"2":0,"3":1,"4":1,"5":0,"6":2,"7":2,"8":1,"9":1,"10":1,"11":6,"12":6,"13":6,"14":30},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[1,1],"4":[1,1],"5":[1,1,1],"6":[2,0],"7":[2,2],"8":[30,26],"9":[5,1]},"inputSourceMap":{"version":3,"file":"/home/welington/Documents/git-pessoal/fruit-bowl-api/src/application/usecase/CreateStudySchedule.ts","sources":["/home/welington/Documents/git-pessoal/fruit-bowl-api/src/application/usecase/CreateStudySchedule.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,sFAA8D;AAE9D,mHAAsF;AAItF,MAAqB,mBAAmB;IACtC,YAAoB,uBAAgD;QAAhD,4BAAuB,GAAvB,uBAAuB,CAAyB;IAAG,CAAC;IAElE,OAAO,CACX,sBAA8C;;YAE9C,MAAM,cAAc,GAAG,qCAAsB,CAAC,WAAW,EAAE,CAAC;YAE5D,MAAM,qBAAqB,GAAa,cAAc;iBACnD,GAAG,CAAC,CAAC,UAAkB,EAAE,EAAE,CAC1B,IAAI,CAAC,qCAAqC,CACxC,sBAAsB,CAAC,OAAO,EAC9B,UAAU,CACX,CACF;iBACA,MAAM,CAAC,CAAC,UAAU,EAAE,EAAE,CAAC,UAAU,IAAI,EAAE,CAAC,CAAC;YAE5C,MAAM,aAAa,GAAG,IAAI,uBAAa,CACrC,sBAAsB,CAAC,MAAM,EAC7B,qBAAqB,CACtB,CAAC;YAEF,OAAO,MAAM,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QAChE,CAAC;KAAA;IAEO,qCAAqC,CAC3C,UAAwB,EACxB,UAAkB;QAElB,MAAM,kBAAkB,GAAG,UAAU,CAAC,MAAM,CAC1C,CAAC,SAAS,EAAE,EAAE,CACZ,SAAS,CAAC,aAAa,IAAI,UAAU;YACrC,SAAS,CAAC,cAAc,IAAI,UAAU,CACzC,CAAC;QAEF,OAAO,kBAAkB,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,CAAA;IACxD,CAAC;CACF;AArCD,sCAqCC","sourcesContent":["import StudySchedule from \"../../domain/entity/StudySchedule\";\nimport StudyScheduleRepository from \"../../domain/repository/StudyScheduleRepository\";\nimport CourseSequenceResolver from \"../../domain/service/CourseNamesSequenceResolver\";\nimport CoursesDto from \"../dto/request/CoursesDto\";\nimport DesiredMicroCoursesDto from \"../dto/request/DesiredMicroCoursesDto\";\n\nexport default class CreateStudySchedule {\n  constructor(private studyScheduleRepository: StudyScheduleRepository) {}\n\n  async execute(\n    desiredMicroCoursesDto: DesiredMicroCoursesDto\n  ): Promise<StudySchedule> {\n    const courseSequence = CourseSequenceResolver.getSequence();\n\n    const orderedCoursesToStudy: string[] = courseSequence\n      .map((courseName: string) =>\n        this.getCourseNameIfIsDesiredOrReturnEmpty(\n          desiredMicroCoursesDto.courses,\n          courseName\n        )\n      )\n      .filter((courseName) => courseName != \"\");\n\n    const studySchedule = new StudySchedule(\n      desiredMicroCoursesDto.userId,\n      orderedCoursesToStudy\n    );\n\n    return await this.studyScheduleRepository.save(studySchedule);\n  }\n\n  private getCourseNameIfIsDesiredOrReturnEmpty(\n    coursesDto: CoursesDto[],\n    courseName: string\n  ): string {\n    const courseInCoursesDto = coursesDto.filter(\n      (courseDto) =>\n        courseDto.desiredCourse == courseName ||\n        courseDto.requiredCourse == courseName\n    );\n    \n    return courseInCoursesDto.length > 0 ? courseName : \"\"\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"267a82d38d8e15bb24d1e528af33e76c58020197","contentHash":"08c86cd1697779038d82850e954dd91918568376534cb97bca12f2ba6d9338a2"},"/home/welington/Documents/git-pessoal/fruit-bowl-api/src/domain/service/CourseNamesSequenceResolver.ts":{"path":"/home/welington/Documents/git-pessoal/fruit-bowl-api/src/domain/service/CourseNamesSequenceResolver.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":12,"column":10}},"2":{"start":{"line":15,"column":0},"end":{"line":15,"column":41}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":25},"end":{"line":13,"column":5}},"line":4}},"branchMap":{},"s":{"0":1,"1":2,"2":1},"f":{"0":2},"b":{},"inputSourceMap":{"version":3,"file":"/home/welington/Documents/git-pessoal/fruit-bowl-api/src/domain/service/CourseNamesSequenceResolver.ts","sources":["/home/welington/Documents/git-pessoal/fruit-bowl-api/src/domain/service/CourseNamesSequenceResolver.ts"],"names":[],"mappings":";;AAAA,MAAqB,sBAAsB;IACzC,MAAM,CAAC,WAAW;QAChB,OAAO;YACL,SAAS;YACT,aAAa;YACb,sBAAsB;YACtB,mBAAmB;YACnB,iBAAiB;YACjB,uBAAuB;SACxB,CAAC;IACJ,CAAC;CACF;AAXD,yCAWC","sourcesContent":["export default class CourseSequenceResolver {\n  static getSequence(): string[] {\n    return [\n      \"Finance\",\n      \"Investiment\",\n      \"InvestmentManagement\",\n      \"PortfolioTheories\",\n      \"InvestmentStyle\",\n      \"PortfolioConstruction\",\n    ];\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7fbdb2537083684ec80f7baa5bf3552aeeebaaa9","contentHash":"9e06765c800bb3ddc175a1b0bfd18d55d5e04e5898b8870663fbf0306492225e"}}